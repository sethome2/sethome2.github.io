<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>背包DP | sethome的橱窗</title>
<meta name="description" content="sethome的橱窗">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://sethome2.github.io/favicon.ico?v=1649510858111">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://sethome2.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://sethome2.github.io">sethome的橱窗</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="https://sethome2.github.io" class="menu">
                首页 / Home
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/tag/VvCd9lSL-/" class="menu">
                奇怪的项目 / Project
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/tag/T7U4S5FR5/" class="menu">
                照片 / Picture
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/tags" class="menu">
                文章标签 / Article Tags
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/archives" class="menu">
                文章列表 / Article List
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/post/about" class="menu">
                关于 / About
              </a>
            
          </li>
        
          <li>
            
              <a href="https://sethome2.github.io/post/you-qing-lian-jie" class="menu" target="_blank">
                友情链接 / ExchangeLink
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>背包DP</h1>
            <p class="article-meta">
              2022-03-25
              
                <a href="https://sethome2.github.io/tag/AxMbzInct/" class="badge success">
                  algorithm
                </a>
              
                <a href="https://sethome2.github.io/tag/DPgomazXOf/" class="badge secondary">
                  technique
                </a>
              
                <a href="https://sethome2.github.io/tag/orC5ANx2z/" class="badge secondary">
                  中文
                </a>
              
            </p>
            
            <div class="post-content">
              <p>嘶，突然想起来，高中的时候其实没有认真学过DP（动态规划）的，记忆化搜索和DP只能说是异曲同工之妙，真正的DP核心在于状态转移方程。</p>
<p>之前遇到DP问题，都是直接恩算，尝试找出二维网格里面的一些关系。今天想了想，是应该从背包DP——这最简单的DP开始，一点一点理解动态规划了。</p>
<p><strong>动态规划是一种通过把原问题分解为更简单的子问题，求解子问题来解决复杂问题的方法</strong></p>
<p>长期更新~人菜瘾大。</p>
<h1 id="什么是背包dp">什么是背包DP？</h1>
<p>背包问题简洁的表述就是</p>
<blockquote>
<p>有N个物品，第i个物品的价值为V<sub>i</sub>，同时它的重量为W<sub>i</sub>，有一个背包能装总重为M的物品，<br>
如何取物品，才能使背包内所有物品的价值最大？</p>
</blockquote>
<p><strong>背包DP可以被分为以下几个类型</strong></p>
<table>
<thead>
<tr>
<th>背包类型</th>
<th>特殊条件</th>
</tr>
</thead>
<tbody>
<tr>
<td>01背包</td>
<td>每个物品只能被拿取一次</td>
</tr>
<tr>
<td>完全背包</td>
<td>每个物品物品都可以被重复拿取</td>
</tr>
<tr>
<td>多重背包</td>
<td>现在有两个以上的独立背包用于拿取了</td>
</tr>
<tr>
<td>混合背包</td>
<td>上面三种的混合，物品可以被拿(1, k, ∞)次，同时又有两个以上的背包</td>
</tr>
</tbody>
</table>
<h1 id="01背包">01背包</h1>
<p>先讲01背包。<br>
参考题目：<a href="https://www.luogu.com.cn/problem/P2871">P2871 [USACO07DEC]Charm Bracelet S</a></p>
<blockquote>
<p>有N个物品，第i个物品的价值为V<sub>i</sub>，同时它的重量为W<sub>i</sub>且只能取一次，<br>
有一个背包能装总重为M的物品，如何取物品，才能使背包内所有物品的价值最大？</p>
</blockquote>
<p>不难想出，我们可以试试每个物品拿或者不拿，可能的组合非常大，为时间复杂度为O(2<sub>N</sub>)。<br>
哪怕如果遇到超过背包装不下的状态而跳过，也是不能接受的复杂度。</p>
<p>先把问题简化一下吧，考虑在三个物品的情况下，背包问题如何解决。</p>
<p>构造一下数据，假设我们的背包能装总重量4的物品（M=4）。</p>
<table>
<thead>
<tr>
<th>物品序号N<sub>i</sub></th>
<th>重量W<sub>i</sub></th>
<th>价值V<sub>i</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>20</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>30</td>
</tr>
</tbody>
</table>
<p>肉眼观察法，一眼定真，很明显拿取 物品0 和 物品1 是最优的选择。<br>
但是，如何求解呢？<br>
但是某种程度上我们可以求性价比$$f(x) = a_1x^n + a_2x^{n-1} + a_3x^{n-2}$$</p>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                下一篇
              </div>
              <a href="https://sethome2.github.io/post/pian-fen-dao-lun/">
                <h3 class="post-title">
                  骗分导论
                </h3>
              </a>
            </div>
          
        </div>
        
          
            <div class="paper" data-aos="fade-in">
              <div id="gitalk-container"></div>
            </div>
          

          
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://sethome2.github.io/images/avatar.png?v=1649510858111" class="no-responsive avatar">
    <div class="text-muted">sethome的橱窗</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://sethome2.github.io/post/chang-yong-de-suan-fa-ji-qiao/">常用的算法技巧</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/bei-bao-dp/">背包DP</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/pian-fen-dao-lun/">骗分导论</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/you-qing-lian-jie/">友情链接</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/shen-ye-ji-chang/">深夜机场</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/panda-he-ji/">Panda合集</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/qian-tan-tcp-lian-jie/">浅谈TCP连接</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/bei-jing-zhi-xing-tian-an-men-sheng-qi/">北京之行——天安门升旗</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/lei-mei-shi-jian-xie/">累，没时间写</a>
            </li>
          
        
          
            <li>
              <a href="https://sethome2.github.io/post/Robomaster-adam-zhan-dui-xuan-chuan-tu-pian/">Robomaster Adam战队宣传图片</a>
            </li>
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://sethome2.github.io/tag/AxMbzInct/" class="badge warning">
          algorithm
        </a>
      
        <a href="https://sethome2.github.io/tag/DPgomazXOf/" class="badge secondary">
          technique
        </a>
      
        <a href="https://sethome2.github.io/tag/orC5ANx2z/" class="badge secondary">
          中文
        </a>
      
        <a href="https://sethome2.github.io/tag/T7U4S5FR5/" class="badge secondary">
          pic
        </a>
      
        <a href="https://sethome2.github.io/tag/qATLQ2rRP/" class="badge warning">
          ComputerNetwork
        </a>
      
        <a href="https://sethome2.github.io/tag/VvCd9lSL-/" class="badge success">
          project
        </a>
      
    </div>
  </div>
  <div class="paper">
    <p>除另有声明外，图片不得商用，商业电邮</p>
Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea
<div target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=45012202000129" style="color:#dee2e6;">桂公网安备 45012202000129号<p></p></div>
<a href="http://www.beian.miit.gov.cn/" style="color:#dee2e6;"> 桂ICP备2022001235号-1</a><p></p> | <a class="rss" href="https://sethome2.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: 'a66037dc805d2519c1e3',
        clientSecret: 'b7e25dec0121f83ddf7d31405733e5fb26b08bbd',
        repo: 'comment-website',
        owner: 'sethome2',
        admin: ['sethome2'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
